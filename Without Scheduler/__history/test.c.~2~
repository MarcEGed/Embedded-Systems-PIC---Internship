// main.c
#include <18F46K22.h>
#fuses INTRC_IO, NOWDT, NOLVP, NOPROTECT
#use delay(clock=16M)

#use i2c(Master, SDA=PIN_C4, SCL=PIN_C3, FAST=100000)
#use rs232(baud=9600, xmit=PIN_C6, rcv=PIN_C7, bits=8, parity=N, stop=1)

#include "sh1106.h"
#include "joystick.h"

void main() {
   int x = 0;
   int direction = 1;

   sh1106_init();
   sh1106_clear_buffer();

   joystick_init();

   for (int i=0; i < 60; i++){
      sh1106_draw_pixel(50, i, 1);
   }

   sh1106_update_screen();*

   while(TRUE) {
      


      JoystickState ctrl = joystick_read();
      printf("X: %lu  Y: %lu  Button: %u\r\n", ctrl.x, ctrl.y, !ctrl.sw); // ! = pressed
      delay_ms(200);
   }
}
